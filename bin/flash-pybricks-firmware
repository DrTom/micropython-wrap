#!/usr/bin/env bash
set -euo pipefail
PROJECT_DIR="$(cd -- "$(dirname "${BASH_SOURCE}")" ; cd .. > /dev/null 2>&1 && pwd -P)"

cd $PROJECT_DIR

FIRMWARE_FILE=${FIRMWARE_FILE:-"pybricks-micropython/bricks/primehub/build/firmware.zip"}

echo "Flashing firmware from ${FIRMWARE_FILE}"

source bin/env/python-setup
source bin/activate

pybricksdev flash ${FIRMWARE_FILE} $@

# vi: ft=sh
